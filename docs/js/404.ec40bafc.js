"use strict";(globalThis["webpackChunkmetaforcehome"]=globalThis["webpackChunkmetaforcehome"]||[]).push([[404],{8853:(e,t,s)=>{s.d(t,{Fv:()=>c,IB:()=>l,LS:()=>r,PQ:()=>o,TQ:()=>a,WV:()=>i,_E:()=>u,dP:()=>n});const a="https://quasar-metaforce-dev-ed.my.salesforce-sites.com",l="http://proxy.metaforce.ltd/services/apexrest/easymeta",o="/metaforce/verification-code/request",i="/metaforce/verification-code/verify",c="/metaforce/customer",r="/metaforce/case",n="/metaforce/customer-related-list",u="/paddle/subscription/cancel"},5869:(e,t,s)=>{s.d(t,{$v:()=>c,cB:()=>i});var a=s(5054),l=s(6827);s(3382);let o;function i(e,t={}){return r(),o=l.Z.create({group:!1,message:`<div class="text-wrap">${e}</div>`,classes:"q-electron-drag--exception",html:!0,multiLine:!1,icon:"error",position:"top",color:"red-6",actions:[{icon:"content_copy",id:"error_copy_btn",dense:!0,size:"12px",square:!0,stretch:!0,color:"white",handler:async()=>{let t=document.createElement("DIV");t.innerHTML=e,await(0,a.Z)(t.textContent||t.innerText||""),document.querySelector("#error_copy_btn .q-btn__content i.q-icon").textContent="done"}},{icon:"close",dense:!0,size:"12px",square:!0,stretch:!0,color:t.closeColor||"white",handler:()=>o()}],...t}),o}function c(e,t={}){return r(),o=l.Z.create({group:!1,message:e,classes:"q-electron-drag--exception",html:!0,icon:"notifications",position:"top",color:"positive",actions:[{icon:"close",dense:!0,square:!0,stretch:!0,color:t.closeColor||"white",handler:()=>o()}],...t}),o}function r(){o&&(o(),o=null)}},4329:(e,t,s)=>{s.d(t,{U2:()=>c,gz:()=>n,v_:()=>r});var a=s(9981),l=s.n(a),o=s(8853);l().defaults.baseURL=o.IB,l().defaults.timeout=6e5,l().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8",l().defaults.headers.domain=o.TQ;const i=e=>l().request(e).then((e=>e.data)).catch((e=>("object"===typeof e&&(delete e["config"],delete e["headers"],delete e["request"]),Promise.reject(e))));function c(e,t={},s={}){return i({method:"get",url:e,headers:t,...s})}function r(e,t,s={},a={}){return i({method:"post",url:e,data:t,headers:s,...a})}function n(e,t,s={}){return i({method:"put",url:e,data:t,headers:s})}},158:(e,t,s)=>{s.d(t,{n:()=>l});var a=s(3703);const l={getCustomer(){return a.Z.getItem("customer")},setCustomer(e){return a.Z.set("customer",e)},clearLoginCache(){localStorage.clear()}}},6404:(e,t,s)=>{s.r(t),s.d(t,{default:()=>he});var a=s(9835),l=s(6970);const o={class:"row q-mt-lg"},i=(0,a._)("div",{class:"col-1"},null,-1),c={class:"col-10 row"},r={class:"col-6 q-pa-sm"},n=(0,a.Uk)("Account Information"),u={class:"col-6 q-pa-sm"},d=(0,a.Uk)("My Cases"),m=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"text-left"},"Case #"),(0,a._)("th",{class:"text-left"},"Subject"),(0,a._)("th",{class:"text-left"},"Status"),(0,a._)("th",{class:"text-left"},"CreatedDate")])],-1),_={class:"text-left"},p=["onClick"],b={class:"text-left"},h={class:"text-left"},w={class:"text-left"},f=(0,a.Uk)(" You haven't raised any cases yet! "),y={class:"col-12 q-pt-md"},g=(0,a.Uk)("My Subscriptions"),C=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:""},"Action"),(0,a._)("th",{class:"text-left"},"Name"),(0,a._)("th",{class:"text-left"},"Status"),(0,a._)("th",{class:"text-left"},"Started At"),(0,a._)("th",{class:"text-left"},"First Billed At"),(0,a._)("th",{class:"text-left"},"Next Billed At"),(0,a._)("th",{class:"text-left"},"Billing Cycle")])],-1),v={class:""},q={class:"text-left"},W={class:"text-left"},x={class:"text-left"},S={class:"text-left"},k={class:"text-left"},Z={class:"text-left"},Q=(0,a._)("div",{class:"q-mb-md"},"You haven't subscribed Metaforce yet!",-1),U=(0,a._)("div",{class:"col-1"},null,-1),z=(0,a.Uk)("Unsubscribe Metaforce"),L=(0,a._)("div",{class:"text-subtitle2"},"We're truly sorry to see you go! ",-1),V=(0,a._)("div",{class:"q-my-md"}," We've cherished having you as part of our services and appreciate every moment you've spent with us. If there's anything we could have done better or any feedback you'd like to share, we'd be incredibly grateful to hear it. Your insights can help us improve and offer an even better experience. ",-1),j=(0,a._)("div",{class:"text-subtitle2"}," Are you sure you want to unsubscribe? ",-1);function A(e,t,s,A,R,T){const D=(0,a.up)("q-icon"),I=(0,a.up)("q-toolbar-title"),N=(0,a.up)("q-btn"),B=(0,a.up)("q-toolbar"),F=(0,a.up)("q-input"),$=(0,a.up)("q-form"),P=(0,a.up)("q-card-section"),E=(0,a.up)("q-card"),Y=(0,a.up)("q-spinner-bars"),H=(0,a.up)("q-markup-table"),M=(0,a.up)("new-case-popup"),O=(0,a.up)("case-detail-popup"),K=(0,a.up)("q-card-actions"),G=(0,a.up)("q-dialog"),J=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",o,[i,(0,a._)("div",c,[(0,a._)("div",r,[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"account_circle",color:"white",size:"md"}),(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[n])),_:1}),(0,a.Wm)(N,{onClick:T.updateAccount,loading:R.isAccountUpdating,icon:"cloud_upload",class:"bg-white text-primary",dense:"","no-caps":""},null,8,["onClick","loading"])])),_:1}),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{ref:"formCmp"},{default:(0,a.w5)((()=>[(0,a.Wm)(F,{modelValue:R.customer.easymeta__Email__c,"onUpdate:modelValue":t[0]||(t[0]=e=>R.customer.easymeta__Email__c=e),label:"Email address",type:"email",class:"q-mb-md",disable:"",outlined:"","hide-bottom-space":""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"email"})])),_:1},8,["modelValue"]),(0,a.Wm)(F,{modelValue:R.customer.easymeta__FirstName__c,"onUpdate:modelValue":t[1]||(t[1]=e=>R.customer.easymeta__FirstName__c=e),label:"First Name",class:"q-mb-md",rules:R.nameRules,"lazy-rules":"ondemand",outlined:"","hide-bottom-space":""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"person"})])),_:1},8,["modelValue","rules"]),(0,a.Wm)(F,{modelValue:R.customer.easymeta__LastName__c,"onUpdate:modelValue":t[2]||(t[2]=e=>R.customer.easymeta__LastName__c=e),label:"Last Name",class:"q-mb-md",rules:R.nameRules,"lazy-rules":"ondemand",outlined:"","hide-bottom-space":""},{prepend:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"person"})])),_:1},8,["modelValue","rules"])])),_:1},512)])),_:1})])),_:1})]),(0,a._)("div",u,[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"help_center",color:"white",size:"md"}),(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(N,{onClick:t[3]||(t[3]=t=>e.$refs.newCasePopupCmp.show()),icon:"add_circle_outline",class:"bg-white text-primary",dense:"","no-caps":""})])),_:1}),R.isRelatedListLoading?((0,a.wg)(),(0,a.j4)(P,{key:0,class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{size:"sm",color:"primary"})])),_:1})):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[R.myCases.length?((0,a.wg)(),(0,a.j4)(H,{key:0},{default:(0,a.w5)((()=>[m,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.myCases,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",_,[(0,a._)("a",{onClick:t=>T.viewCaseDetail(e),class:"text-underline"},(0,l.zw)(e.CaseNumber),9,p)]),(0,a._)("td",b,(0,l.zw)(e.Subject),1),(0,a._)("td",h,(0,l.zw)(e.Status),1),(0,a._)("td",w,(0,l.zw)(e.CreatedDate),1)])))),128))])])),_:1})):((0,a.wg)(),(0,a.j4)(P,{key:1,class:"text-center q-py-xl"},{default:(0,a.w5)((()=>[f])),_:1}))],64))])),_:1})]),(0,a._)("div",y,[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{name:"redeem",color:"white",size:"md"}),(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[g])),_:1}),(0,a.Wm)(N,{icon:"shopping_cart",to:"/pricing",class:"bg-white text-primary",dense:"","no-caps":""})])),_:1}),R.isRelatedListLoading?((0,a.wg)(),(0,a.j4)(P,{key:0,class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{size:"sm",color:"primary"})])),_:1})):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[R.mySubscriptions.length?((0,a.wg)(),(0,a.j4)(H,{key:0},{default:(0,a.w5)((()=>[C,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.mySubscriptions,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",v,["canceled"!=e.easymeta__Status__c?((0,a.wg)(),(0,a.j4)(N,{key:0,label:"Unsubscribe",color:"negative",onClick:t=>T.showUnsubscribeAlert(e),dense:"","no-caps":"",outline:""},null,8,["onClick"])):(0,a.kq)("",!0)]),(0,a._)("td",q,(0,l.zw)(e.Name),1),(0,a._)("td",W,(0,l.zw)(e.easymeta__Status__c),1),(0,a._)("td",x,(0,l.zw)(e.easymeta__Started_At__c),1),(0,a._)("td",S,(0,l.zw)(e.easymeta__First_Billed_At__c),1),(0,a._)("td",k,(0,l.zw)(e.easymeta__Next_Billed_At__c),1),(0,a._)("td",Z,(0,l.zw)(e.easymeta__Billing_Cycle__c),1)])))),128))])])),_:1})):((0,a.wg)(),(0,a.j4)(P,{key:1,class:"text-center q-py-xl"},{default:(0,a.w5)((()=>[Q,(0,a.Wm)(N,{label:"Subscribe Now","icon-right":"arrow_circle_right",class:"text-primary",to:"/pricing","no-caps":""})])),_:1}))],64))])),_:1})])]),U]),(0,a.Wm)(M,{ref:"newCasePopupCmp",customer:R.customer,onOnSubmitted:T.loadCustomerRelatedList},null,8,["customer","onOnSubmitted"]),(0,a.Wm)(O,{ref:"caseDetailCmp"},null,512),(0,a.Wm)(G,{modelValue:R.unsubscribeAlert,"onUpdate:modelValue":t[4]||(t[4]=e=>R.unsubscribeAlert=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(E,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(I,null,{default:(0,a.w5)((()=>[z])),_:1})])),_:1}),(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[L,V,j])),_:1}),(0,a.Wm)(K,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(N,{flat:"",label:"Cancel",color:"primary","no-caps":""},null,512),[[J]]),(0,a.Wm)(N,{loading:R.isUnsubscribing,onClick:T.unsubscribe,label:"Unsubscribe Now",color:"negative","no-caps":""},{loading:(0,a.w5)((()=>[(0,a.Wm)(Y,{size:"xs"})])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}s(9665);var R=s(158),T=s(8853),D=s(4329),I=s(5869);const N=(0,a.Uk)("Submit A Case"),B={class:"text-center q-mt-lg"};function F(e,t,s,l,o,i){const c=(0,a.up)("q-icon"),r=(0,a.up)("q-toolbar-title"),n=(0,a.up)("q-toolbar"),u=(0,a.up)("q-input"),d=(0,a.up)("q-editor"),m=(0,a.up)("q-spinner-bars"),_=(0,a.up)("q-btn"),p=(0,a.up)("q-form"),b=(0,a.up)("q-card"),h=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(h,{modelValue:o.isShow,"onUpdate:modelValue":t[2]||(t[2]=e=>o.isShow=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{name:"contact_support",size:"md"}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[N])),_:1})])),_:1}),(0,a.Wm)(p,{ref:"caseFormCmp",class:"q-ma-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:o.newCase.subject,"onUpdate:modelValue":t[0]||(t[0]=e=>o.newCase.subject=e),label:"Subject",class:"q-mb-md",rules:o.nameRules,"lazy-rules":"ondemand",outlined:"","hide-bottom-space":""},null,8,["modelValue","rules"]),(0,a.Wm)(d,{modelValue:o.newCase.body,"onUpdate:modelValue":t[1]||(t[1]=e=>o.newCase.body=e),placeholder:"Type your question or idea...","min-height":"5rem"},null,8,["modelValue"]),(0,a._)("div",B,[(0,a.Wm)(_,{onClick:i.submitCase,loading:o.isSaving,label:"Submit",color:"primary",class:"bg-primary text-white","no-caps":"",flat:""},{loading:(0,a.w5)((()=>[(0,a.Wm)(m,{size:"xs"})])),_:1},8,["onClick","loading"])])])),_:1},512)])),_:1})])),_:1},8,["modelValue"])}const $={data(){return{isShow:!1,newCase:{subject:"",body:""},isSaving:!1,nameRules:[e=>e&&e.length>0||"Required"]}},props:{customer:{type:Object,required:!0}},methods:{show(){this.isShow=!0},async submitCase(){let e=await this.$refs.caseFormCmp.validate();if(e){this.isSaving=!0;let e=await(0,D.v_)(T.LS,{customerId:this.customer.Id,subject:this.newCase.subject,body:this.newCase.body});e.isSuccess?this.$emit("onSubmitted"):(0,I.cB)(e.message),this.isSaving=!1}}}};var P=s(1639),E=s(3706),Y=s(4458),H=s(1663),M=s(2857),O=s(1973),K=s(8326),G=s(9897),J=s(4922),X=s(8879),ee=s(3382),te=s(9984),se=s.n(te);const ae=(0,P.Z)($,[["render",F]]),le=ae;se()($,"components",{QDialog:E.Z,QCard:Y.Z,QToolbar:H.Z,QIcon:M.Z,QToolbarTitle:O.Z,QForm:K.Z,QInput:G.Z,QEditor:J.Z,QBtn:X.Z,QSpinnerBars:ee.Z});const oe=(0,a.Uk)("Case Details");function ie(e,t,s,l,o,i){const c=(0,a.up)("q-icon"),r=(0,a.up)("q-toolbar-title"),n=(0,a.up)("q-toolbar"),u=(0,a.up)("q-input"),d=(0,a.up)("q-editor"),m=(0,a.up)("q-form"),_=(0,a.up)("q-card"),p=(0,a.up)("q-dialog");return(0,a.wg)(),(0,a.j4)(p,{modelValue:o.isShow,"onUpdate:modelValue":t[0]||(t[0]=e=>o.isShow=e)},{default:(0,a.w5)((()=>[o.caseRecord?((0,a.wg)(),(0,a.j4)(_,{key:0,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{class:"bg-primary text-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{name:"contact_support",size:"md"}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[oe])),_:1})])),_:1}),(0,a.Wm)(m,{class:"q-ma-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{dense:"","model-value":o.caseRecord.CaseNumber,label:"Case Number",class:"q-mb-md",disable:""},null,8,["model-value"]),(0,a.Wm)(u,{dense:"","model-value":o.caseRecord.Status,label:"Status",class:"q-mb-md",disable:""},null,8,["model-value"]),(0,a.Wm)(u,{dense:"","model-value":o.caseRecord.Subject,label:"Subject",class:"q-mb-md",disable:""},null,8,["model-value"]),(0,a.Wm)(d,{dense:"",disable:"","model-value":o.caseRecord.easymeta__CaseDetail__c,"min-height":"5rem"},null,8,["model-value"])])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1},8,["modelValue"])}const ce={data(){return{isShow:!1,caseRecord:null}},methods:{show(e){this.isShow=!0,this.caseRecord=e}}},re=(0,P.Z)(ce,[["render",ie]]),ne=re;se()(ce,"components",{QDialog:E.Z,QCard:Y.Z,QToolbar:H.Z,QIcon:M.Z,QToolbarTitle:O.Z,QForm:K.Z,QInput:G.Z,QEditor:J.Z});const ue={components:{newCasePopup:le,CaseDetailPopup:ne},data(){return{customer:{},myCases:[],mySubscriptions:[],isAccountUpdating:!1,isRelatedListLoading:!1,unsubscribeAlert:!1,isUnsubscribing:!1,selectedSubId:null,nameRules:[e=>e&&e.length>0||"Required"]}},methods:{async updateAccount(){let e=await this.$refs.formCmp.validate();if(e){this.isAccountUpdating=!0;let e=await(0,D.gz)(T.Fv,{token:this.customer.easymeta__Login_Token__c,firstname:this.customer.easymeta__FirstName__c,lastname:this.customer.easymeta__LastName__c});e.isSuccess?(this.customer=e.customer,R.n.setCustomer(e.customer),(0,I.$v)("Updated successfully.")):(0,I.cB)(e.message),this.isAccountUpdating=!1}},async loadCustomerRelatedList(){this.isRelatedListLoading=!0;let e=await(0,D.U2)(`${T.dP}?token=${this.customer.easymeta__Login_Token__c}`);var t,s;e.isSuccess?(this.myCases=(null===(t=e.customer.easymeta__Cases__r)||void 0===t?void 0:t.records)||[],this.mySubscriptions=(null===(s=e.customer.easymeta__PaddleSubscriptions__r)||void 0===s?void 0:s.records)||[]):this.$router.push("/");this.isRelatedListLoading=!1},showUnsubscribeAlert(e){this.unsubscribeAlert=!0,this.selectedSubId=e.easymeta__PaddleId__c},async unsubscribe(){if(!this.selectedSubId)return;this.isUnsubscribing=!0;let e=await(0,D.v_)(T._E,{subscriptionId:this.selectedSubId});e.isSuccess?this.unsubscribeAlert=!1:(0,I.cB)(e.message),this.isUnsubscribing=!1},viewCaseDetail(e){this.$refs.caseDetailCmp.show(e)}},mounted(){this.customer=R.n.getCustomer()||{},this.customer.easymeta__Login_Token__c?this.loadCustomerRelatedList():this.$router.push("/")}};var de=s(3190),me=s(6933),_e=s(1821),pe=s(2146);const be=(0,P.Z)(ue,[["render",A]]),he=be;se()(ue,"components",{QCard:Y.Z,QToolbar:H.Z,QIcon:M.Z,QToolbarTitle:O.Z,QBtn:X.Z,QCardSection:de.Z,QForm:K.Z,QInput:G.Z,QSpinnerBars:ee.Z,QMarkupTable:me.Z,QDialog:E.Z,QCardActions:_e.Z}),se()(ue,"directives",{ClosePopup:pe.Z})}}]);