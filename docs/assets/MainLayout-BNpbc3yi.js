import{c as P,g as B,i as Y,e as Q,l as W,r as q,a as m,w as y,o as X,h as ge,b,f as ve,p as se,j as he,k as re,m as ue,s as pe,n as be,q as ye,t as Ce,u as Se,v as we,x as _e,y as K,z as N,A as xe,_ as ce,B as M,C as $,D as E,E as s,F as n,Q as qe,G as R,H as de,I as ee,J as F,K as fe,L as U,M as O,N as I,O as T,P as Ve,R as ze,S as Le,T as J,U as Re}from"./index-YLQE3zk4.js";import{n as D,Q as Te,a as te,b as oe,c as Qe}from"./notify-UFIi9Vv2.js";import{p as ne,M as Oe,a as ke,Q as G,b as H,c as me,g as Ie,d as Ee}from"./constants-BjUERERX.js";import{Q as le,a as Fe}from"./QItemLabel-BtwGlts2.js";import{Q as A,a as De,b as ie}from"./QTabs-DbjZFVis.js";import"./selection-DItM6DdQ.js";import"./index-xsH4HHeE.js";const He=P({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:o,emit:d}){const{proxy:{$q:r}}=B(),e=Y(W,Q);if(e===Q)return console.error("QHeader needs to be child of QLayout"),Q;const u=q(parseInt(t.heightHint,10)),i=q(!0),p=m(()=>t.reveal===!0||e.view.value.indexOf("H")!==-1||r.platform.is.ios&&e.isContainer.value===!0),h=m(()=>{if(t.modelValue!==!0)return 0;if(p.value===!0)return i.value===!0?u.value:0;const a=u.value-e.scroll.value.position;return a>0?a:0}),g=m(()=>t.modelValue!==!0||p.value===!0&&i.value!==!0),V=m(()=>t.modelValue===!0&&g.value===!0&&t.reveal===!0),x=m(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(g.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),z=m(()=>{const a=e.rows.value.top,S={};return a[0]==="l"&&e.left.space===!0&&(S[r.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),a[2]==="r"&&e.right.space===!0&&(S[r.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),S});function f(a,S){e.update("header",a,S)}function w(a,S){a.value!==S&&(a.value=S)}function C({height:a}){w(u,a),f("size",a)}function L(a){V.value===!0&&w(i,!0),d("focusin",a)}y(()=>t.modelValue,a=>{f("space",a),w(i,!0),e.animate()}),y(h,a=>{f("offset",a)}),y(()=>t.reveal,a=>{a===!1&&w(i,t.modelValue)}),y(i,a=>{e.animate(),d("reveal",a)}),y(e.scroll,a=>{t.reveal===!0&&w(i,a.direction==="up"||a.position<=t.revealOffset||a.position-a.inflectionPoint<100)});const k={};return e.instances.header=k,t.modelValue===!0&&f("size",u.value),f("space",t.modelValue),f("offset",h.value),X(()=>{e.instances.header===k&&(e.instances.header=void 0,f("size",0),f("offset",0),f("space",!1))}),()=>{const a=ge(o.default,[]);return t.elevated===!0&&a.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(b(A,{debounce:0,onResize:C})),b("header",{class:x.value,style:z.value,onFocusin:L},a)}}}),Pe=P({name:"QPageContainer",setup(t,{slots:o}){const{proxy:{$q:d}}=B(),r=Y(W,Q);if(r===Q)return console.error("QPageContainer needs to be child of QLayout"),Q;se(he,!0);const e=m(()=>{const u={};return r.header.space===!0&&(u.paddingTop=`${r.header.size}px`),r.right.space===!0&&(u[`padding${d.lang.rtl===!0?"Left":"Right"}`]=`${r.right.size}px`),r.footer.space===!0&&(u.paddingBottom=`${r.footer.size}px`),r.left.space===!0&&(u[`padding${d.lang.rtl===!0?"Right":"Left"}`]=`${r.left.size}px`),u});return()=>b("div",{class:"q-page-container",style:e.value},ve(o.default))}}),Be=P({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:o,emit:d}){const{proxy:{$q:r}}=B(),e=Y(W,Q);if(e===Q)return console.error("QFooter needs to be child of QLayout"),Q;const u=q(parseInt(t.heightHint,10)),i=q(!0),p=q(re.value===!0||e.isContainer.value===!0?0:window.innerHeight),h=m(()=>t.reveal===!0||e.view.value.indexOf("F")!==-1||r.platform.is.ios&&e.isContainer.value===!0),g=m(()=>e.isContainer.value===!0?e.containerHeight.value:p.value),V=m(()=>{if(t.modelValue!==!0)return 0;if(h.value===!0)return i.value===!0?u.value:0;const l=e.scroll.value.position+g.value+u.value-e.height.value;return l>0?l:0}),x=m(()=>t.modelValue!==!0||h.value===!0&&i.value!==!0),z=m(()=>t.modelValue===!0&&x.value===!0&&t.reveal===!0),f=m(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(t.bordered===!0?" q-footer--bordered":"")+(x.value===!0?" q-footer--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),w=m(()=>{const l=e.rows.value.bottom,v={};return l[0]==="l"&&e.left.space===!0&&(v[r.lang.rtl===!0?"right":"left"]=`${e.left.size}px`),l[2]==="r"&&e.right.space===!0&&(v[r.lang.rtl===!0?"left":"right"]=`${e.right.size}px`),v});function C(l,v){e.update("footer",l,v)}function L(l,v){l.value!==v&&(l.value=v)}function k({height:l}){L(u,l),C("size",l)}function a(){if(t.reveal!==!0)return;const{direction:l,position:v,inflectionPoint:_}=e.scroll.value;L(i,l==="up"||v-_<100||e.height.value-g.value-v-u.value<300)}function S(l){z.value===!0&&L(i,!0),d("focusin",l)}y(()=>t.modelValue,l=>{C("space",l),L(i,!0),e.animate()}),y(V,l=>{C("offset",l)}),y(()=>t.reveal,l=>{l===!1&&L(i,t.modelValue)}),y(i,l=>{e.animate(),d("reveal",l)}),y([u,e.scroll,e.height],a),y(()=>r.screen.height,l=>{e.isContainer.value!==!0&&L(p,l)});const c={};return e.instances.footer=c,t.modelValue===!0&&C("size",u.value),C("space",t.modelValue),C("offset",V.value),X(()=>{e.instances.footer===c&&(e.instances.footer=void 0,C("size",0),C("offset",0),C("space",!1))}),()=>{const l=ue(o.default,[b(A,{debounce:0,onResize:k})]);return t.elevated===!0&&l.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b("footer",{class:f.value,style:w.value,onFocusin:S},l)}}}),{passive:ae}=ye,Ne=["both","horizontal","vertical"],Ue=P({name:"QScrollObserver",props:{axis:{type:String,validator:t=>Ne.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:pe},emits:["scroll"],setup(t,{emit:o}){const d={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r=null,e,u;y(()=>t.scrollTarget,()=>{h(),p()});function i(){r?.();const x=Math.max(0,we(e)),z=_e(e),f={top:x-d.position.top,left:z-d.position.left};if(t.axis==="vertical"&&f.top===0||t.axis==="horizontal"&&f.left===0)return;const w=Math.abs(f.top)>=Math.abs(f.left)?f.top<0?"up":"down":f.left<0?"left":"right";d.position={top:x,left:z},d.directionChanged=d.direction!==w,d.delta=f,d.directionChanged===!0&&(d.direction=w,d.inflectionPoint=d.position),o("scroll",{...d})}function p(){e=be(u,t.scrollTarget),e.addEventListener("scroll",g,ae),g(!0)}function h(){e!==void 0&&(e.removeEventListener("scroll",g,ae),e=void 0)}function g(x){if(x===!0||t.debounce===0||t.debounce==="0")i();else if(r===null){const[z,f]=t.debounce?[setTimeout(i,t.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];r=()=>{f(z),r=null}}}const{proxy:V}=B();return y(()=>V.$q.lang.rtl,i),Ce(()=>{u=V.$el.parentNode,p()}),X(()=>{r?.(),h()}),Object.assign(V,{trigger:g,getPosition:()=>d}),Se}}),Me=P({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:o,emit:d}){const{proxy:{$q:r}}=B(),e=q(null),u=q(r.screen.height),i=q(t.container===!0?0:r.screen.width),p=q({position:0,direction:"down",inflectionPoint:0}),h=q(0),g=q(re.value===!0?0:K()),V=m(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),x=m(()=>t.container===!1?{minHeight:r.screen.height+"px"}:null),z=m(()=>g.value!==0?{[r.lang.rtl===!0?"left":"right"]:`${g.value}px`}:null),f=m(()=>g.value!==0?{[r.lang.rtl===!0?"right":"left"]:0,[r.lang.rtl===!0?"left":"right"]:`-${g.value}px`,width:`calc(100% + ${g.value}px)`}:null);function w(c){if(t.container===!0||document.qScrollPrevented!==!0){const l={position:c.position.top,direction:c.direction,directionChanged:c.directionChanged,inflectionPoint:c.inflectionPoint.top,delta:c.delta.top};p.value=l,t.onScroll!==void 0&&d("scroll",l)}}function C(c){const{height:l,width:v}=c;let _=!1;u.value!==l&&(_=!0,u.value=l,t.onScrollHeight!==void 0&&d("scrollHeight",l),k()),i.value!==v&&(_=!0,i.value=v),_===!0&&t.onResize!==void 0&&d("resize",c)}function L({height:c}){h.value!==c&&(h.value=c,k())}function k(){if(t.container===!0){const c=u.value>h.value?K():0;g.value!==c&&(g.value=c)}}let a=null;const S={instances:{},view:m(()=>t.view),isContainer:m(()=>t.container),rootRef:e,height:u,containerHeight:h,scrollbarWidth:g,totalWidth:m(()=>i.value+g.value),rows:m(()=>{const c=t.view.toLowerCase().split(" ");return{top:c[0].split(""),middle:c[1].split(""),bottom:c[2].split("")}}),header:N({size:0,offset:0,space:!1}),right:N({size:300,offset:0,space:!1}),footer:N({size:0,offset:0,space:!1}),left:N({size:300,offset:0,space:!1}),scroll:p,animate(){a!==null?clearTimeout(a):document.body.classList.add("q-body--layout-animate"),a=setTimeout(()=>{a=null,document.body.classList.remove("q-body--layout-animate")},155)},update(c,l,v){S[c][l]=v}};if(se(W,S),K()>0){let c=function(){_=null,j.classList.remove("hide-scrollbar")},l=function(){if(_===null){if(j.scrollHeight>r.screen.height)return;j.classList.add("hide-scrollbar")}else clearTimeout(_);_=setTimeout(c,300)},v=function(Z){_!==null&&Z==="remove"&&(clearTimeout(_),c()),window[`${Z}EventListener`]("resize",l)},_=null;const j=document.body;y(()=>t.container!==!0?"add":"remove",v),t.container!==!0&&v("add"),xe(()=>{v("remove")})}return()=>{const c=ue(o.default,[b(Ue,{onScroll:w}),b(A,{onResize:C})]),l=b("div",{class:V.value,style:x.value,ref:t.container===!0?void 0:e,tabindex:-1},c);return t.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:e},[b(A,{onResize:L}),b("div",{class:"absolute-full",style:z.value},[b("div",{class:"scroll",style:f.value},[l])])]):l}}}),$e={data(){return{isShowLogin:!1,currentTabName:"SignInTab",countDown:60,countDownTimer:null,isSubmitting:!1,form:{firstname:"",lastname:"",email:"18210473070@163.com",verificationCode:"720223"},statusOfRequestCode:"Draft",nameRules:[t=>t&&t.length>0||"Required"],emailRules:[t=>t?t&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||"Invalid Email Address":"Required"]}},computed:{isSignIn(){return this.currentTabName=="SignInTab"}},methods:{showLogin(){this.isShowLogin=!0},async requestVerificationCode(){if(await this.$refs.formCmp.validate())try{this.statusOfRequestCode="Sending",this.form.verificationCode="";let o=await ne(ke,{firstname:this.form.firstname,lastname:this.form.lastname,email:this.form.email});o.isSuccess?(this.statusOfRequestCode="Sent",this.startCountDown()):(this.statusOfRequestCode="Draft",D(o.message))}catch{this.statusOfRequestCode="Draft"}},startCountDown(){this.countDown=60,this.countDownTimer=setInterval(()=>{this.countDown--,this.countDown<=0&&(this.statusOfRequestCode="Draft",clearInterval(this.countDownTimer))},1e3)},async submitForm(){if(!this.form.verificationCode.trim()){D("Verification code is missing!");return}if(await this.$refs.formCmp.validate())try{this.isSubmitting=!0;let o=await ne(Oe,{firstname:this.form.firstname,lastname:this.form.lastname,email:this.form.email,verificationCode:this.form.verificationCode});o.isSuccess?(M().updateLoginToken(o.message),M().updateCustomer(o.customer),this.isShowLogin=!1):D(o.message)}catch(o){D(o)}finally{this.isSubmitting=!1}}}},Ae={class:"q-ma-md"},We={class:"q-my-lg text-center text-h5"},je={class:"text-center q-mt-lg"},Ke={class:"row justify-center",style:{width:"150px"}};function Je(t,o,d,r,e,u){return E(),$(Ve,{modelValue:e.isShowLogin,"onUpdate:modelValue":o[5]||(o[5]=i=>e.isShowLogin=i)},{default:s(()=>[n(qe,{style:{width:"100%"}},{default:s(()=>[R("div",null,[n(De,{modelValue:e.currentTabName,"onUpdate:modelValue":o[0]||(o[0]=i=>e.currentTabName=i),align:"left","active-bg-color":"primary","active-color":"white","indicator-color":"primary",class:"bg-grey-2","inline-label":"","no-caps":""},{default:s(()=>[n(ie,{name:"SignInTab",icon:"home",label:"Sign In",class:"col"}),n(ie,{name:"SignUpTab",icon:"add_circle_outline",label:"Sign Up",class:"col"})]),_:1},8,["modelValue"]),R("div",Ae,[n(Te,{ref:"formCmp"},{default:s(()=>[R("div",We,F(u.isSignIn?"Welcome back!":"Create your account"),1),u.isSignIn?ee("",!0):(E(),de(fe,{key:0},[n(U,{modelValue:e.form.firstname,"onUpdate:modelValue":o[1]||(o[1]=i=>e.form.firstname=i),label:"First Name",class:"q-mb-md",rules:e.nameRules,"lazy-rules":"ondemand",autofocus:"",outlined:"","hide-bottom-space":""},{prepend:s(()=>[n(O,{name:"person"})]),_:1},8,["modelValue","rules"]),n(U,{modelValue:e.form.lastname,"onUpdate:modelValue":o[2]||(o[2]=i=>e.form.lastname=i),label:"Last Name",class:"q-mb-md",rules:e.nameRules,"lazy-rules":"ondemand",outlined:"","hide-bottom-space":""},{prepend:s(()=>[n(O,{name:"person"})]),_:1},8,["modelValue","rules"])],64)),n(U,{modelValue:e.form.email,"onUpdate:modelValue":o[3]||(o[3]=i=>e.form.email=i),label:"Email address",type:"email",class:"q-mb-md",rules:e.emailRules,"lazy-rules":"ondemand",autofocus:"",outlined:"","hide-bottom-space":""},{prepend:s(()=>[n(O,{name:"email"})]),_:1},8,["modelValue","rules"]),n(U,{modelValue:e.form.verificationCode,"onUpdate:modelValue":o[4]||(o[4]=i=>e.form.verificationCode=i),label:"Verification Code","input-class":"verification-code-input",type:"number",outlined:"","hide-bottom-space":""},{prepend:s(()=>[n(O,{name:"pin"})]),after:s(()=>[n(I,{onClick:u.requestVerificationCode,disabled:e.statusOfRequestCode!="Draft",loading:e.statusOfRequestCode=="Sending",class:"bg-primary text-white",style:{height:"55px"},flat:"","no-caps":""},{default:s(()=>[R("div",null,F(e.statusOfRequestCode=="Sent"?"Sent":"Request Code"),1)]),_:1},8,["onClick","disabled","loading"])]),_:1},8,["modelValue"]),e.statusOfRequestCode=="Sent"?(E(),$(G,{key:1,class:"text-positive q-pl-none"},{default:s(()=>[n(H,null,{default:s(()=>[n(le,null,{default:s(()=>[T("The verification code has been sent to "+F(e.form.email)+".",1)]),_:1}),n(le,{caption:""},{default:s(()=>[n(O,{name:"help_outline"}),T(" Didn't receive a code? Resend the code in "+F(e.countDown)+" seconds. ",1)]),_:1})]),_:1})]),_:1})):ee("",!0),R("div",je,[n(I,{loading:e.isSubmitting,onClick:u.submitForm,color:"primary",class:"bg-primary text-white","no-caps":"",flat:""},{loading:s(()=>[n(me,{size:"xs"})]),default:s(()=>[R("div",Ke,[R("span",null,F(u.isSignIn?"Sign In":"Sign Up"),1),n(O,{name:"arrow_circle_right",class:"q-pl-md"})])]),_:1},8,["loading","onClick"])])]),_:1},512)])])]),_:1})]),_:1},8,["modelValue"])}const Ge=ce($e,[["render",Je]]),Ye="/assets/metaforce-MJtCMfLV.png",Xe={components:{loginForm:Ge},data(){return{isShowLogin:!1,isLoadingCustomer:!1}},computed:{...Le(M,["loginToken","customer","subscriptions","isLoggedIn"]),customerName(){return this.customer?.easymeta__FirstName__c||""}},methods:{...ze(M,["updateCustomer","clearLoginStore"]),async initializeCustomer(){try{this.isLoadingCustomer=!0;let t=await Ie(`${Ee}?token=${this.loginToken}`);t.Id?this.updateCustomer(t):this.clearLoginStore()}catch(t){D(t)}finally{this.isLoadingCustomer=!1}},signOut(){this.clearLoginStore()}},async mounted(){this.loginToken&&this.initializeCustomer()}},Ze={class:"bg-grey-1"};function et(t,o,d,r,e,u){const i=J("router-link"),p=J("router-view"),h=J("login-form");return E(),de(fe,null,[n(Me,{view:"lHh Lpr lFf"},{default:s(()=>[n(He,{elevated:""},{default:s(()=>[n(te,{class:"bg-white text-black q-py-md"},{default:s(()=>[n(i,{to:"/"},{default:s(()=>[n(Re,{size:"xl",style:{"font-size":"50px"}},{default:s(()=>o[1]||(o[1]=[R("img",{src:Ye},null,-1)])),_:1})]),_:1}),n(oe,null,{default:s(()=>[n(i,{to:"/",class:"text-h5 q-mx-sm",style:{color:"black","text-decoration":"none"}},{default:s(()=>o[2]||(o[2]=[T("Metaforce")])),_:1})]),_:1}),n(I,{class:"q-px-md",to:"/",size:"md",flat:"",icon:"home",label:"Home","no-caps":""}),n(I,{class:"q-px-md",to:"/pricing",size:"md",flat:"",icon:"shopping_cart",label:"Pricing","no-caps":""}),n(I,{class:"q-px-md",to:"/guide",size:"md",flat:"",icon:"school",label:"Docs","no-caps":""}),t.isLoggedIn||e.isLoadingCustomer?(E(),$(Qe,{key:0,loading:e.isLoadingCustomer,label:u.customerName,class:"q-px-md",size:"md",icon:"account_circle","no-caps":"",flat:""},{loading:s(()=>[n(me,{size:"xs",color:"primary"})]),default:s(()=>[n(Fe,{separator:""},{default:s(()=>[n(G,{clickable:"",to:"/customer"},{default:s(()=>[n(H,{side:""},{default:s(()=>[n(O,{name:"account_circle"})]),_:1}),n(H,null,{default:s(()=>o[3]||(o[3]=[T("My Account")])),_:1})]),_:1}),n(G,{clickable:"",onClick:u.signOut},{default:s(()=>[n(H,{side:""},{default:s(()=>[n(O,{name:"logout"})]),_:1}),n(H,null,{default:s(()=>o[4]||(o[4]=[T("Sign Out")])),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1},8,["loading","label"])):(E(),$(I,{key:1,onClick:o[0]||(o[0]=g=>t.$refs.loginFormCmp.showLogin()),class:"q-px-md",size:"md",icon:"login",label:"Sign In",flat:"","no-caps":""}))]),_:1})]),_:1}),n(Pe,null,{default:s(()=>[n(p)]),_:1}),n(Be,null,{default:s(()=>[R("div",Ze,[n(te,{class:"text-black text-center",style:{"min-height":"30px"}},{default:s(()=>[n(oe,{class:"text-caption"},{default:s(()=>[o[7]||(o[7]=T(" © Copyright 2025 Metaforce+ | ")),n(i,{to:"/terms",class:"policy-link"},{default:s(()=>o[5]||(o[5]=[T("Term Of Use")])),_:1}),o[8]||(o[8]=T(" | ")),n(i,{to:"/privacy",class:"policy-link"},{default:s(()=>o[6]||(o[6]=[T("Privacy Policy")])),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}),n(h,{ref:"loginFormCmp"},null,512)],64)}const rt=ce(Xe,[["render",et],["__scopeId","data-v-ad5f232f"]]);export{rt as default};
